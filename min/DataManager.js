console.log("using data manager"),window.spotter.DataManager=function(){function b(a){this.parent=a,this.results=new fastArray(100),this.reset(),this.notFound=[]}var a={searchAndSortObjects:{},readyEvent:spotter.events("datamanagerready"),registeredNodes:[],registeredInstances:[]};b.prototype.saveHistory=function(a,b){var c=this.history;"query"===a?(c.data=[],c.push({type:a,query:b.query,field:null,terms:null,flags:b.flags})):c.push({type:a,query:null,field:b.field,terms:b.terms,flags:b.flags}),this.active=!0},b.prototype.complete=function(a){this.results.clear(),this.results.concat(a),this.parent.eventTriggers.search(void 0,{source:this,results:this.results})},b.prototype.reset=function(){this.results.clear(),this.history=[],this.active=!1},b.prototype.repeat=function(){var d,a=this.history.slice(0),b=0,c=a.length;for(this.reset(),b;b<c;b++)switch(d=a[b],d.type){case"fuzzyAnyMatch":this.fuzzySearchForAnyMatch(d.fields,d.terms,d.flags);break;case"fuzzyAllMatch":this.fuzzySearchForAllMatch(d.fields,d.terms,d.flags);break;case"exactAnyMatch":this.exactSearchForAnyMatch(d.fields,d.terms,d.flags);break;case"exactAllMatch":this.exactSearchForAllMatch(d.fields,d.terms,d.flags);break;case"query":this.query(d.query,d.flags)}},b.prototype.exactNonIndex=function(a,b,c,d){var e=typeof b;"string"===e?b=b.split(","):"number"===e&&(b=[""+b]);var j,k,l,f=b.slice(0),g=[],h=c.length,i=b.length;for(c=c.values;--h>-1;)if(void 0!==(j=c[h])&&null!==j)for(value=j[a],l=!1,k=0;k<i&&!l;k++)(l=b[k]===value)&&(g.push(j),f[k]=null);for(this.notFound=[],k=0;k<i;k++)null!==f[k]&&this.notFound.push(f[k]);return f.length&&console.log("spotter.custom.contacts.list.dataManager.search.notFound:",spotter.custom.contacts.list.dataManager.search.notFound),g},b.prototype.fuzzyNonIndex=function(a,b,c,d){"string"==typeof b&&(b=b.split(","));var h,i,j,e=[],f=c.length,g=b.length;for(c=c.values;--f>-1;)if(void 0!==(h=c[f]))for(value=h[a],void 0===value&&spotter.log("error",{func:"fuzzyNonIndex:",msg:"data does not contain field",vars:{field:a,data:c[f]}}),j=!1,i=0;i<g&&!j;i++)(j=~value.indexOf(b[i]))&&e.push(h);return e},b.prototype.partialNonIndex=function(a,b,c,d){"string"==typeof b&&(b=b.split(",")),void 0===b&&console.log("findvalues undefined",(new Error).stack);var h,i,j,e=[],f=c.length,g=b.length;for(c=c.values;--f>-1;)if(void 0!==(h=c[f]))for(value=h[a],void 0===value&&spotter.log("error",{func:"partialNonIndex:",msg:"data does not contain field",vars:{field:a,data:c[f]}}),j=!1,i=0;i<g&&!j;i++)findValue=b[i],(j=value.slice(0,findValue.length)===findValue)&&e.push(h);return e},b.prototype.exactIndexed=function(a,b,c){"string"==typeof b&&(b=b.split(",")),this.notFound=[];var h,d=[],e=b.length,f=this.parent.data.index[a],g=Object.keys(f),j=(g.length,0);for(j=0;j<e;j++)h=b[j],indexedValues=f[h],"undefined"!=typeof indexedValues&&indexedValues.length>0?Array.prototype.push.apply(d,indexedValues):this.notFound.push(h);return d},b.prototype.fuzzyIndexed=function(a,b,c){"string"==typeof b&&(b=b.split(","));for(var i,j,k,d=[],e=b.length,f=h.length,g=this.parent.data.index[a],h=Object.keys(g);--f>-1;)for(i=h[f],k=!1,j=0;j<e&&!k;j++)~i.indexOf(b[j])&&Array.prototype.push.apply(d,g[i]);return d.unique(),d},b.prototype.partialIndexed=function(a,b,c){"string"==typeof b&&(b=b.split(","));for(var i,j,k,l,m,d=[],e=b.length,f=this.parent.data.index[a],g=Object.keys(f),h=g.length;--h>-1;)for(j=g[h],l=!1,k=0;k<e&&!l;k++)i=b[k],m=i.length,i===j.slice(0,m)&&Array.prototype.push.apply(d,f[j]);return d.unique(),d},b.prototype.exact=function(a,b,c,d){var e=this.parent.data;return c=c||e.master,c===e.master&&"object"==typeof e.index[a]?this.exactIndexed(a,b,c):this.exactNonIndex(a,b,c)},b.prototype.fuzzy=function(a,b,c,d){var e=this.parent.data;return c=c||e.master,c===e.master&&"object"==typeof e.index[a]?this.fuzzyIndexed(a,b,c):this.fuzzyNonIndex(a,b,c)},b.prototype.partial=function(a,b,c,d){var e=this.parent.data;return c=c||e.master,c===e.master&&"object"==typeof e.index[a]?this.partialIndexed(a,b,c):this.partialNonIndex(a,b,c)},b.prototype.anyMatch=function(a,b,c,d){console.log("DataManager.anyMatch \n","arguments:",arguments),Array.isArray(b)||(b=[b]),d=d||[];var g,h,i,e=b.length,f=0,j=~d.indexOf("master"),k=[];for(i=j||!this.active?this.parent.data.master:this.results,f;f<e;f++)g=b[f],h=c[f]||h,Array.prototype.push.apply(k,this[a](g,h,i,d));return k.unique(),console.log("DataManager.anyMatch \n","aggregatedResults:",k),this.results.mergeDistinct(k),console.log("DataManager.anyMatch \n","this.results:",this.results),this.saveHistory("anyMatch",{type:a,field:b,terms:c,flags:d}),this},b.prototype.allMatch=function(a,b,c,d){Array.isArray(b)||(b=[b]),d=d||[];var g,h,j,e=b.length,f=0,i=~d.indexOf("master");for(j=i||!this.active?this.parent.data.master:this.results,f;f<e;f++)g=b[f],h=c[f]||h,j=this[a](g,h,j,d);return this.results.mergeDistinct(j),this.saveHistory("allMatch",{type:a,field:b,terms:c,flags:d}),this},b.prototype.query=function(a,b){b=b||[],a="("+a+")";for(var e,j,k,l,m,n,o,p,q,r,c=new RegExp("(OR|AND)\\s\\(|(OR|AND)\\s|(([\\w]+)\\s(=|LIKE)\\s(\\([^\\)]+\\)|'[^']+'|[0-9.]+))|\\(|\\)","g"),d=new RegExp("'([^',]+)'|([0-9.]+)","g"),f=this.parent.data.master,g=this.parent.data.index,h=[],i=-1;e=c.exec(a);)if(void 0!==e[1])-1===i&&(i=0),n=h[i],"OR"===e[1]?i=h.push({dataSrc:n.dataSrc,type:"or",parentSQ:h[i],result:void 0})-1:"AND"===e[1]&&(i=h.push({dataSrc:n.result,type:"and",parentSQ:h[i],result:void 0})-1);else if(void 0!==e[2])"OR"===e[2]?j="or":"AND"===e[2]&&(j="and");else if(void 0!==e[3]){if(m=e[4],l=e[5],n=h[i],o=e[6],"("===o[0])for(p=[],o=o.slice(1,-1);q=d.exec(o);)p.push(q[1]||q[2]);else p="'"===o[0]?o.slice(1,-1):o;"or"===j||void 0===j?f=n.dataSrc:"and"===j&&(f=n.result),"="===l?k="object"==typeof g[m]?this.exactIndexed(m,p,f):this.exactNonIndex(m,p,f):"LIKE"===l&&(k="object"==typeof g[m]?this.fuzzyIndexed(m,p,f):this.fuzzyNonIndex(m,p,f)),void 0===n.result?n.result=k:n.result="or"===j?n.result.mergeDistinct(k):n.result.xProd(k),j=void 0}else if("("===e[0])i>-1&&(f=h[i].dataSrc),i=h.push({dataSrc:f,type:null,parentSQ:n,result:void 0})-1;else if(")"===e[0]){switch(r=h.pop(),n=h.last(),r.type){case"or":n.result.mergeDistinct(r.result);break;case"and":n.result.xProd(r.result);break;default:return this.saveHistory("query",{query:a,flags:b}),this}i--}},b.prototype.end=function(){return this.parent.eventTriggers.search(void 0,{source:this,results:this.results}),this.parent},b.prototype.setAsSearchResults=function(a){return this.results.clear(),this.results.concat(a),this.parent},b.prototype.addRecentToSearchResults=function(a){return Array.prototype.push.apply(this.results,a),this.parent},b.prototype.contextArgs={},b.prototype.find=function(a){var b=a[this.searchField],c=!1,d=0,e=this.fVal;for(d=0;d<e&&!c;d++)(c=findValues[d]===b)&&results.push(a)}.bind(b.prototype.contextArgs);var c=function(c,d,e){spotter.requiredParam(c).array().result()(),d=d||[],e=e||null;this.registeredInstancesIndex=a.registeredInstances.push(this)-1,this.data={master:new fastArray(1e3),index:{},primaryKey:e,recent:function(){var a=this.recent,b=new fastArray(a.new.length+a.conflicts.length);return b.concat(a.new.slice(0)),b.concat(a.conflicts.slice(0)),b.values}},this.data.recent.new=new fastArray(100),this.data.recent.conflicts=new fastArray(100),spotter.events.setEventTrigger(this,"update"),spotter.events.setEventTrigger(this,"resetData"),spotter.events.setEventTrigger(this,"search"),spotter.events.setEventTrigger(this,"noResults"),spotter.events.setEventTrigger(this,"searchReset"),spotter.events.setEventTrigger(this,"sort"),spotter.events.setEventTrigger(this,"sortReset"),this.search=new b(this),this.resetSort(),this.sortBy=this.sortBy(),c.length&&this.addData(c)};return c.prototype.indexRows=function(a){Array.isArray(a)||(a=[a]);var g,h,j,k,b=this.data,c=b.index,d=Object.keys(c),e=a.length,f=0,i=d.length;for(f;f<e;f++)for(h=a[f],g=0;g<i;g++)j=d[g],k=""+h[j],0===k.length&&(k="0"),void 0===c[j][k]?(c[j][k]=[h],void 0===this.values[j]&&console.debug("field:",j," \n","values:",this.values," \n",(new Error).stack),this.values[j].push(k)):c[j][k].push(h)},c.prototype.removeObjs=function(a,b){null===a?"undefined"!==b&&(a=this.getRowsByMasterIndexes(b)):Array.isArray(a)||(a=[a]);var f,g,h,i,c=this.data.master,d=this.data.index,e=Object.keys(d);for(g=a.length;--g>-1;)for(row=a[g],h=e.length;--h>-1;)void 0!==(i=row[field])&&(indexedValues=d[e[h]][i],f=indexedValues.indexOf(row),indexedValues.splice(f,1),0===indexedValues.length&&delete d[e[h]][i]);c.forEach(function(a,b,c){c.values[a._index_]=null})},c.prototype.removePKConflicts=function(a){var b=this.data,c=b.primaryKey;if(null===c)return this;var e=b.recent.conflicts,f=b.index,g=a.length,h=0;if(e.clear(),null!==c&&(pKIndex=f[c]))for(this.removeRepeatsOnField(c,a),g=a.length;--g>-1;)void 0!==(h=pKIndex[a[g][c]])&&h.length>0&&(a.splice(g,1),e.concat(h));return this},c.prototype.addData=function(a){var e,f,b=this.data,c=b.master,d=this.data.recent.new;if(b.primaryKey&&(this.removePKConflicts(a),0===a.length))return console.warn("all data added repeats on primary key"),this;if(d.clear(),this.indexRows(a),!0!==this.sortParams.active)for(;e=a.pop();)f=c.push(e)-1,e._index_=f,d.push(e);else{for(this.sortNewData(a),f=c.length;--f>-1;)c.values[f]._index_=f;d.concat(a)}return this},c.prototype.update=function(){this.eventTriggers.update()},c.prototype.removeRepeatsOnField=function(a,b){var f,c={},d=0,e=b.length;for(d;d<e;d++)f=b[d][a],void 0!==c[f]&&(b.splice(d,1),d--),c[f]=1},c.prototype.listParentToRows=function(a){var b=[],c=a.children,d=c.length,e=0;for(e;e<d;e++)b.push(this.listItemToRow(c[e]));return b},c.prototype.listItemToRow=function(a){var f,b=a.querySelectorAll("[data-field]"),c=b.length,d=0,e={};for(d=0;d<c;d++)f=b[d],e[f.getAttribute("data-field")]=spotter.getFirstTextNode(f).nodeValue.trim();return e},c.prototype.addIndex=function(a){var b,e,b,g,h,i,c=this.data.master,d=c.values;if(void 0!==this.data.index[a])spotter.log("error",{func:"addIndex",msg:"field is already indexed",vars:{field:a}});else for(e=this.data.index[a]={},i=c.length,h=0;h<i;h++)g=d[h],b=""+g[a],0===b.length&&(b="0"),void 0===e[b]?e[b]=[g]:e[b].push(g);return this},c.prototype.addPrimaryKey=function(a){if(a===this.data.primaryKey)return this;var e,f,b=[],c=this.data.index;null!==this.data.primaryKey&&console.debug("primary key ("+this.data.primaryKey+") already registered which will now be set to "+a+" \n this operation can be intensive due to removing duplicate data"),this.data.primaryKey=a,void 0===c[a]&&this.addIndex(a);for(f in c[a])indexedValues=c[a][f],indexedValues.length>1&&(e=indexedValues.shift(),Array.prototype.concat.apply(b,indexedValues),c[a][f]=[e]);return b.length&&this.removeData(b),this},c.prototype.removeData=function(a){for(var b,f,h,j,c=a.length,d=this.data.master,e=this.data.index,g=Object.keys(e),i=g.length;--c>-1;)for(f=a[c],delete d[f._index_],j=0;j<i;j++)h=g[j],b=e[h][f[h]].indexOf(f),valueIndex[b]=void 0},c.prototype.getRowsByMasterIndexes=function(a){Array.isArray(a)||(a=[a]);var d,b=[],c=a.length;for(d=0;d<c;d++)b.push(this.data.master[a[d]]);return b},c.prototype.getValuesByField=function(a){if(void 0!==this.data.index[a])return Object.keys(this.data.index[a]);console.log("search and sort is not indexed on field ("+a+")");var g,h,b=[],c=this.data.master,d=c.values,e=c.length,f=0;for(f;f<e;f++)"object"==typeof(g=d[f])&&void 0!==(h=g[a])&&b.push(h);return b},c.prototype.overwriteFieldForSearchResults=function(a,b,c){var h,k,l,e=this.data.master,f=this.data.primaryKey,g=this.data.indexed;if(null!==f&&!Array.empty(g[f][a[f]]))return console.debug("cannot use object to replace by field value because of conflicting key field values",a),!1;for(h=this.search.exact(b,c,e),console.log("overwritefieldofrsearchresults: \n","searchResults:",h),k=h.length;--k>-1;)row=h[k],l=row._index_,e.values[l]=null;return e.values[l]=a,a._index_=l,this.indexRows(e.values[l]),this},c.prototype.setFieldByFieldValue=function(a,b,c,d){var e=this.data.index;if(this.data.primaryKey===c&&void 0!==e[c][d]&&e[c][d].length>0)console.debug("the target field ("+c+") is the same as the primary key and the value ("+d+") conflicts");else for(var f=this.search.exact(a,b),g=f.length;--g>-1;)f[g][c]=d;return this},c.prototype.deleteByField=function(a,b){var c,d=this.data.master;return c=this.search.exact(a,b,d),this.removeData(c),c},c.prototype.getCurrentResults=function(){return!0===this.search.active?this.search.results:this.data.master.values},c.prototype.resetSort=function(){this.sortParams={fields:null,directions:null,types:null,func:null,active:!1},this.eventTriggers.sortReset()},c.prototype.completeSort=function(a,b,c,d){var e=this.sortParams;e.active=!0,e.fields=a,e.directions=c,e.types=b,e.func=d,console.log(this.data.master),this.eventTriggers.sort(void 0,{sortFields:a,sortTypes:b,sortDirections:c})},c.prototype.sortNewData=function(a){this.data.master.insertSort(a,this.sortParams.func),console.log("sortNewData:",this.data.master),this.completeSort()},c.prototype.repeatSort=function(){this.data.master.mergeSort(this.sortParams.func),this.completeSort()},c.prototype.sort=function(a,b,d){var e=this.search.results.length?this.search.results:this.data.master;if(console.debug("DataManager.sort -> arguments:",arguments),"string"==typeof a)a=[a],b=[b||"alphanumeric"],d=[d||1];else if(Array.empty(a)){if(!1===this.search.active)return console.debug("a sort field is required if a search is not active"),!1;a=[this.search.history.fields.last()],b=["relevance"],d=[1]}else Array.empty(b)&&"string"==typeof(b=[])&&b.forEach(function(){b.push("alphanumeric")}),Array.empty(d)&&"string"==typeof(d=[])&&d.forEach(function(){d.push(1)});var f,g,h,i;return 1===a.length?(f=a[0],g=d[0],h=this.sortFuncs(b[0]),i=function(a,b){return g*h(a[f],b[f])}):(f=a.shift(),g=d.shift(),h=c.sortBy(b.shift(),f,g),a.forEach(function(c,e){h=h.thenBy(b[e]||"alphanumeric",a[e],d[e]||1)}),i=h),console.log("completeSortFunc:",i," \n","func:",h," \n","direction:",g," \n","targetData:",e),e.mergeSort(i),this.completeSort(a,b,d,i),this},c.prototype.sortBy=function(){var b,c,d,e,f,g,h,a={funcs:[],fields:[],sortOrders:[],expandedParams:[]};return a.mainSortFunc=function(i,j,k){return void 0===k&&(k=-1),k++,(b=a.funcs[k])?(c=a.fields[k]||null,g=c?i[c]:i,h=c?j[c]:j,d=a.expandedParams[k]||null,e=a.sortOrders[k],"function"==typeof d&&(d=d()),f=b(g,h,d)||a.mainSortFunc(i,j,k),-1===e&&(f=-f,e=1),f):0},a.addSortFunc=function(b,c,d,e){b="string"==typeof b?this.sortFuncs(b):b,c=c||null,e=e||null,d=this.parameterizeSortDirection(d),a.funcs.push(b),a.fields.push(c),a.sortOrders.push(d),a.expandedParams.push(e)},a.mainSortFunc.thenBy=function(b,c,d,e){return a.addSortFunc(b,c,d,e),a.mainSortFunc},function(b,c,d,e){return a.funcs=[],a.fields=[],a.expandedParams=[],a.sortOrders=[],a.addSortFunc(b,c,d,e),a.mainSortFunc}},c.prototype.resetData=function(){var a=this.data;return a.master.clear(),a.recent.new.clear(),a.recent.conflicts.clear(),this.search.reset(),this.eventTriggers.resetData(),this},c.prototype.repeatLastSearchAndSort=function(){return!0===this.search.active&&this.repeatSearches(),!0===this.sortParams.active&&this.repeatSort(),this},c.prototype.setSourceNode=function(b){spotter.events.appendTo({srcNode:b},a.readyEvent),a.registeredNodes[this.registeredInstancesIndex]=b,spotter.events.fire(a.readyEvent)},c.prototype.createDataObjectFromNode=function(a){for(var b={},c=a.querySelectorAll("[data-field]"),d=c.length;--d>-1;)b[c[d].getAttribute("data-field")]=spotter.getFirstTextNode(c[d]).nodeValue.trim();return b._node_=a,a.DataManager=b,b},c.prototype.sortFuncs=function(){var a={},b=function(b){if("function"==typeof a[b.toLowerCase()])return a[b];spotter.consoleError("sort function unknown ("+b+")","","major")};return a.alpha=function(a,b){return a=(""+a).toLowerCase(),b=(""+b).toLowerCase(),a===b?0:a<b?-1:1},a.numeric=function(a,b){return a-=0,b-=0,a-b},a.alphanumeric=function(b,c){var d,e;return b===c?0:(d=spotter.isNumeric(b),e=spotter.isNumeric(c),d?e?a.numeric(b,c):-1:e?1:a.alpha(b,c))},a.relevance=function(a,b,c){return a=(""+a).toLowerCase(),b=(""+b).toLowerCase(),a===b?0:(a=a.indexOf(c),b=b.indexOf(c),-1===a?1:-1===b?-1:a-b)},b}(),c.prototype.parameterizeSortDirection=function(a){if("number"==typeof a)return a-0;if(void 0===a)return 1;switch(a){case"asc":return 1;case"desc":return-1;default:console.error("the str sent to parameterizeSortDirection is not recognized")}},c.getObjectFor=function(b){var c=a.registeredNodes.indexOf(b);return-1!==c&&a.registeredInstances[c]},c}(),spotter.RemoteData=function(a){if("string"!=typeof a.URL)return console.debug("a url is required to setup a remote data manager"),!1;"string"!=typeof a.name&&(a.name=spotter.makeId()),"string"!=typeof a.idField&&console.debug("an id field was not setup for remote data manager - setting an id field is recommended"),"number"!=typeof a.pageLimit&&(a.pageLimit=-1),"number"!=typeof a.totalLimit&&(a.totalLimit=-1),window.spotter.DataManager.call(this,[],a.indexedFields,a.idField),this.name=a.name,this.idField=a.idField||null,this.queryParams={},this.defaultParams={},this.setURL(a.URL),this.dataReady=spotter.events("dataReady"),this.setParseResponse(function(a){return a=JSON.parse(a)}),this.requestsQueue=[],this.error=function(a){console.warn("the following error occurred receiving remote data \n","result: \n",a)},this.currentPage=0,this.pageLimit=a.pageLimit,this.totalLimit=a.totalLimit,this.setPaginationParams({offsetParam:"offset",limitParam:"limit"}),this.setTrackPagination(),this.resetPagination(),this.events={emptyResult:spotter.events.setEventTrigger(this,"emptyResult"),limitReached:spotter.events.setEventTrigger(this,"limitReached"),resultsComplete:spotter.events.setEventTrigger(this,"resultsComplete")}},spotter.RemoteData.prototype.setURL=function(a){if(a=a.split("?"),a.length>1){var e,b=a[1].split("&"),c=0,d=b.length;for(c;c<d;c++)e=b[c].split("="),this.queryParams[e[0]]=e[1],this.defaultParams[e[0]]=e[1]}return this.URL=a[0],this},spotter.RemoteData.prototype.setParams=function(a){var b;for(b in a)this.queryParams[b]=a[b];return this},spotter.RemoteData.prototype.removeParams=function(a){for(var b=a.length;--b>-1;)delete this.queryParams[a[b]]},spotter.RemoteData.prototype.resetParams=function(){this.queryParams={};for(var a in this.defaultParams)this.queryParams[a]=this.defaultParams[a]},spotter.RemoteData.prototype.completeRequests=function(){var a,b,d=(this.data.recent,0),e=this.requestsQueue.length,f=0;for(d;d<e&&(a=this.requestsQueue[d]);d++)d!==f&&!0!==a.ignoreQueue||"received"!==a.status?"completed"===a.status&&f++:(b=a.response,"success"===b.status&&(this.addData(b.result),this.trackDataLimits(),a.callBack&&a.callBack(this.data.recent())),f++,a.status="completed")},spotter.RemoteData.prototype.onResponse=function(a,b){b=this.parseResponse(b,this),a.response=b,a.status="received",this.completeRequests(b)},spotter.RemoteData.prototype.getData=function(a,b){if(!0===this.preventRequests)return void console.debug(this.stopRequests.why);var d,c=this.requestsQueue.push({response:null,status:"pending",callBack:a,request:null,ignoreQueue:b})-1;return this.requestsQueue[c].request=d=spotter.ajax({url:this.URL,data:this.queryParams,method:"POST",success:this.onResponse.bind(this,this.requestsQueue[c]),error:this.error}),this.requestsQueue[c].index=c,this.trackPagination(),d},spotter.RemoteData.prototype.reset=function(){this.currentPage=0,this.cancelCurrentRequests(),this.resetPagination()},spotter.RemoteData.prototype.stopRequests=function(a){this.preventRequests=!0,this.cancelCurrentRequests(),this.stopRequests.why=a},spotter.RemoteData.prototype.cancelCurrentRequests=function(){for(var a;a=this.requestsQueue.pop();)a.request.kill()},spotter.RemoteData.prototype.setParseResponse=function(a){return"function"!=typeof a?(console.debug("parse response must be set to a function, "+typeof a+" was given"),!1):(this.parseResponse=a,this)},spotter.RemoteData.prototype.setPaginationParams=function(a){void 0!==a.offsetParam&&(void 0!==this.queryParams[this.offsetParam]&&(this.queryParams[a.offsetParam]=this.queryParams[this.offsetParam],delete this.queryParams[this.offsetParam]),this.offsetParam=a.offsetParam),void 0!==a.limitParam&&(void 0!==this.queryParams[this.limitParam]&&(this.queryParams[a.limitParam]=this.queryParams[this.limitParam],delete this.queryParams[this.limitParam]),this.limitParam=a.limitParam)},spotter.RemoteData.prototype.resetOffset=function(){this.cachedOffset=this.queryParams[this.offsetParam],this.queryParams[this.offsetParam]=0},spotter.RemoteData.prototype.restoreOffset=function(){this.queryParams[this.offsetParam]=this.cachedOffset},spotter.RemoteData.prototype.limitReachedMessage="total limit reached for remote request manager",spotter.RemoteData.prototype.noMoreResultsMessage="no more results for request",spotter.RemoteData.prototype.setTrackPagination=function(){var a=this.pageLimit||-1,b=this.totalLimit||-1;!~a&&b>0?(this.resetPagination=function(){this.queryParams[this.limitParam]=this.totalLimit,this.queryParams[this.offsetParam]="0"},this.trackPagination=function(){},this.trackDataLimits=function(a){var b=this.data.master.length;b-this.totalLimit>0?(this.stopRequests(this.limitReachedMessage),this.removeObjs(this.data.recent.new),this.eventTriggers[this.events.limitReached]()):this.queryParams[this.limitParam]=this.totalLimit-b}):a>0&&!~b?(this.resetPagination=function(){this.queryParams[this.limitParam]=this.pageLimit,this.queryParams[this.offsetParam]="0"},this.trackPagination=function(){this.currentPage++,this.queryParams[this.offsetParam]=this.currentPage*this.pageLimit},this.trackDataLimits=function(){var a=this.data.recent,b=a.new.length+a.conflicts.length,c=b-this.pageLimit;if(c>0)console.debug("request responses exceed the requested limit - check server handling or change limit param to avoid unnecessary overhead"),this.removeObjs(a.new.slice(0-c));else if(c<0)return this.stopRequests(this.noMoreResultsMessage),void this.eventTriggers[this.events.resultsComplete]()}):a>0&&b>0?(this.resetPagination=function(){this.queryParams[this.limitParam]=Math.min(this.pageLimit,this.totalLimit),this.queryParams[this.offsetParam]="0"},this.trackPagination=function(){this.currentPage++,this.queryParams[this.offsetParam]=this.currentPage*this.pageLimit},this.trackDataLimits=function(){var c=this.data.recent,d=c.new.length+c.conflicts.length,e=d-this.pageLimit;if(e>0)console.debug("request responses exceed the requested limit - check server handling or change limit param to avoid unnecessary overhead"),this.removeObjs(c.new.slice(0-e));else if(e<0)return this.stopRequests(this.noMoreResultsMessage),void this.eventTriggers[this.events.resultsComplete]();var f=this.data.master.length,e=f-this.totalLimit;e>0?(this.stopRequests(this.limitReachedMessage),this.removeObjs(this.data.recent.new),this.eventTriggers[this.events.limitReached]()):this.queryParams[this.limitParam]=this.totalLimit-f,this.queryParams[this.limitParam]=Math.min(a,b-f)}):(this.resetPagination=function(){this.queryParams[this.limitParam]=-1,this.queryParams[this.offsetParam]=-1},this.trackPagination=function(){},this.trackDataLimits=function(){})},spotter.extend(spotter.RemoteData,spotter.DataManager),console.log("data manager loaded");